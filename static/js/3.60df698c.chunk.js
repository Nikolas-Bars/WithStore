(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[3],{299:function(t,e,s){"use strict";s.d(e,"a",(function(){return c}));var n=s(94);function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var s=[],n=!0,c=!1,i=void 0;try{for(var o,r=t[Symbol.iterator]();!(n=(o=r.next()).done)&&(s.push(o.value),!e||s.length!==e);n=!0);}catch(a){c=!0,i=a}finally{try{n||null==r.return||r.return()}finally{if(c)throw i}}return s}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},301:function(t,e,s){"use strict";e.a=s.p+"static/media/hacker.64da6d60.png"},302:function(t,e,s){t.exports={img:"ProfileInfo_img__2ibc9",avatar:"ProfileInfo_avatar__27d_I",descriptionBlock:"ProfileInfo_descriptionBlock__1lPJM",contact:"ProfileInfo_contact__2yXCa"}},304:function(t,e,s){},305:function(t,e,s){t.exports={posts:"MyPosts_posts__cTLzv",postsBlock:"MyPosts_postsBlock__3KZMf",corners:"MyPosts_corners__3avAS"}},306:function(t,e,s){t.exports={item:"Post_item__1ON9X",imgg:"Post_imgg__O9167",likes:"Post_likes__POC9y"}},309:function(t,e,s){"use strict";s.r(e);var n=s(3),c=s(34),i=s(35),o=s(38),r=s(37),a=s(0),l=s.n(a),u=s(304),j=s.n(u),b=s(299),d=s(302),h=s.n(d),p=s(70),f=s(1),O=function(t){var e=Object(a.useState)(!1),s=Object(b.a)(e,2),n=s[0],c=s[1],i=Object(a.useState)(t.status),o=Object(b.a)(i,2),r=o[0],l=o[1];Object(a.useEffect)((function(){l(t.status)}),[t.status]);return Object(f.jsxs)("div",{children:[!n&&Object(f.jsx)("div",{children:Object(f.jsx)("span",{onDoubleClick:function(){c(!0)},children:t.status||"-------"})}),n&&Object(f.jsx)("div",{children:Object(f.jsx)("input",{autoFocus:!0,onBlur:function(){c(!1),t.updateStatusThunk(r)},onChange:function(t){l(t.currentTarget.value)},value:r})})]})},x=s(301),v=s(32),m=s(39),k=s(126),P=Object(k.a)({form:"edit-profile"})((function(t){var e=t.handleSubmit,s=t.profile;return Object(f.jsxs)("form",{onSubmit:e,children:[Object(f.jsx)("button",{children:"Save"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"aFull name:"}),"  ",Object(v.a)("Full name","fullName",v.b,[m.c])]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"\u0418\u0449\u0443 \u043b\u0438 \u044f \u0440\u0430\u0431\u043e\u0442\u0443?"})," ",Object(v.a)(null,"lookingForAJob",v.b,null,{type:"checkbox"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"My professional skills"})," ",Object(v.a)("My professional skills","lookingForAJobDescription",v.c)]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"\u041d\u0435\u043c\u043d\u043e\u0433\u043e \u043e\u0431\u043e \u043c\u043d\u0435:"})," ",Object(v.a)("\u041d\u0435\u043c\u043d\u043e\u0433\u043e \u043e\u0431\u043e \u043c\u043d\u0435:","aboutMe",v.c)]}),Object(f.jsxs)("div",{children:["\u041a\u041e\u041d\u0422\u0410\u041a\u0422\u042b:",Object(f.jsx)("b",{children:Object.keys(s.contacts).map((function(t){return Object(f.jsx)("div",{className:h.a.contact,children:Object(f.jsxs)("b",{children:[t,Object(v.a)(t,"contacts."+t,v.b)]})})}))})]})]})})),g=function(t){var e=t.profile,s=t.status,n=t.updateStatusThunk,c=t.isOwner,i=t.savePhoto,o=t.saveProfile,r=Object(a.useState)(!1),l=Object(b.a)(r,2),u=l[0],j=l[1];if(!e)return Object(f.jsx)(p.a,{});var d=function(){j(!u)};return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:h.a.descriptionBlock,children:[Object(f.jsx)("img",{className:h.a.avatar,src:e.photos.small||x.a}),Object(f.jsx)("br",{}),c&&Object(f.jsx)("input",{type:"file",onChange:function(t){t.target.files.length>0&&i(t.target.files[0])}}),u?Object(f.jsx)(P,{initialValues:e,profile:e,goToEditMode:d,isOwner:c,onSubmit:function(t){o(t),j(!1)}}):Object(f.jsx)(y,{profile:e,editMode:u,goToEditMode:d,isOwner:c}),Object(f.jsx)(O,{status:s,updateStatusThunk:n})]})})},y=function(t){var e=t.profile,s=(t.editMode,t.goToEditMode),n=t.isOwner;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Full name:"}),"  ",e.fullName,"  ",n&&Object(f.jsx)("button",{onClick:s,children:"editMode"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"\u041d\u0435\u043c\u043d\u043e\u0433\u043e \u043e\u0431\u043e \u043c\u043d\u0435:"}),"  ",e.aboutMe]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"\u0418\u0449\u0443 \u043b\u0438 \u044f \u0440\u0430\u0431\u043e\u0442\u0443?"}),e.lookingForAJob?Object(f.jsx)("span",{children:"      \u0414\u0410"}):Object(f.jsx)("span",{children:"\u041d\u0435\u0442"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"My professional skills"}),e.lookingForAJobDescription]}),Object(f.jsxs)("div",{children:["\u041a\u041e\u041d\u0422\u0410\u041a\u0422\u042b:",Object(f.jsx)("b",{children:Object.keys(e.contacts).map((function(t){return Object(f.jsx)(_,{contactTitle:t,contactValue:e.contacts[t]},t)}))})]})]})},_=function(t){var e=t.contactTitle,s=t.contactValue;return Object(f.jsxs)("div",{className:h.a.contact,children:[e,":",s]})},S=s(93),T=s(51),w=s(305),M=s.n(w),N=s(306),I=s.n(N),A=function(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:"https://www.mirf.ru/wp-content/uploads/2020/09/1480331127-2048x1152.jpg",className:I.a.imgg}),Object(f.jsxs)("div",{className:I.a.item,children:[t.message," ",Object(f.jsx)("br",{})]}),Object(f.jsxs)("div",{className:I.a.likes,children:[t.likeCounts,Object(f.jsx)("br",{}),Object(f.jsx)("br",{})]}),Object(f.jsx)("div",{children:Object(f.jsx)("span",{})})]})},C=s(88),F=Object(m.a)(30),B=Object(m.b)(5);var J=Object(k.a)({form:"NewPost"})((function(t){return Object(f.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(f.jsx)("div",{children:Object(f.jsx)(C.a,{component:v.c,name:"MyPostTextarea",placeholder:"Your new post",validate:[m.c,F,B]})}),Object(f.jsx)("button",{children:"Add Post"})]})})),D=function(t){console.log("componentDidUpdateYO");var e=Object(T.a)(t.posts).reverse().map((function(t){return Object(f.jsx)(A,{message:t.message,likeCounts:t.likeCounts})}));return Object(f.jsxs)("div",{className:M.a.postsBlock,children:[Object(f.jsx)("h3",{children:"My posts"}),Object(f.jsx)("div",{children:Object(f.jsx)(J,{onSubmit:function(e){t.addPost(e.MyPostTextarea)}})}),Object(f.jsx)("div",{className:M.a.posts,children:e})]})},U=s(16),z=Object(U.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{updateNewPostText:function(e){t(Object(S.a)(e))},addPost:function(e){t(Object(S.b)(e))}}}))(D),E=function(t){return console.log("profile"),Object(f.jsxs)("div",{className:j.a.profile,children:[Object(f.jsx)(g,{isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatusThunk:t.updateStatusThunk,savePhoto:t.savePhoto,saveProfile:t.saveProfile}),Object(f.jsx)(z,{store:t.store})," "]})},V=s(11),X=s(10),Y=function(t){Object(o.a)(s,t);var e=Object(r.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatusThunk(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(f.jsx)(E,Object(n.a)(Object(n.a)({},this.props),{},{savePhoto:this.props.savePhoto,isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusThunk:this.props.updateStatusThunk,saveProfile:this.props.saveProfile}))}}]),s}(l.a.Component);e.default=Object(X.d)(Object(U.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:S.e,getStatusThunk:S.d,updateStatusThunk:S.h,savePhoto:S.f,saveProfile:S.g}),V.f)(Y)}}]);
//# sourceMappingURL=3.60df698c.chunk.js.map